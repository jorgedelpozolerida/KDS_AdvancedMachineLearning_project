Tries to use TF 2.3.1 from module to work with script.

############################################
CREATE ENVIRONMENT


############################################
INSTALL PACKAGES

Requirement already satisfied: pip in ./venv2/lib/python3.8/site-packages (23.1.2)


Installing package keras==2.3.1

Collecting keras==2.3.1
  Downloading Keras-2.3.1-py2.py3-none-any.whl (377 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 377.8/377.8 kB 3.0 MB/s eta 0:00:00
Requirement already satisfied: numpy>=1.9.1 in /opt/itu/easybuild/software/SciPy-bundle/2020.03-fosscuda-2020a-Python-3.8.2/lib/python3.8/site-packages (from keras==2.3.1) (1.18.3)
Requirement already satisfied: scipy>=0.14 in /opt/itu/easybuild/software/SciPy-bundle/2020.03-fosscuda-2020a-Python-3.8.2/lib/python3.8/site-packages (from keras==2.3.1) (1.4.1)
Requirement already satisfied: six>=1.9.0 in ./venv2/lib/python3.8/site-packages (from keras==2.3.1) (1.16.0)
Collecting pyyaml (from keras==2.3.1)
  Downloading PyYAML-6.0-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (701 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 701.2/701.2 kB 724.3 kB/s eta 0:00:00
Requirement already satisfied: h5py in /opt/itu/easybuild/software/h5py/2.10.0-fosscuda-2020a-Python-3.8.2/lib/python3.8/site-packages (from keras==2.3.1) (2.10.0)
Collecting keras-applications>=1.0.6 (from keras==2.3.1)
  Downloading Keras_Applications-1.0.8-py3-none-any.whl (50 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 50.7/50.7 kB 312.1 kB/s eta 0:00:00
Requirement already satisfied: keras-preprocessing>=1.0.5 in /opt/itu/easybuild/software/TensorFlow/2.3.1-fosscuda-2020a-Python-3.8.2/lib/python3.8/site-packages (from keras==2.3.1) (1.1.2)
Installing collected packages: pyyaml, keras-applications, keras
Successfully installed keras-2.3.1 keras-applications-1.0.8 pyyaml-6.0


Installing package matplotlib==3.3.3

Requirement already satisfied: matplotlib==3.3.3 in ./venv2/lib/python3.8/site-packages (3.3.3)
Requirement already satisfied: cycler>=0.10 in ./venv2/lib/python3.8/site-packages (from matplotlib==3.3.3) (0.11.0)
Requirement already satisfied: kiwisolver>=1.0.1 in ./venv2/lib/python3.8/site-packages (from matplotlib==3.3.3) (1.4.4)
Requirement already satisfied: numpy>=1.15 in /opt/itu/easybuild/software/SciPy-bundle/2020.03-fosscuda-2020a-Python-3.8.2/lib/python3.8/site-packages (from matplotlib==3.3.3) (1.18.3)
Requirement already satisfied: pillow>=6.2.0 in ./venv2/lib/python3.8/site-packages (from matplotlib==3.3.3) (9.5.0)
Requirement already satisfied: pyparsing!=2.0.4,!=2.1.2,!=2.1.6,>=2.0.3 in ./venv2/lib/python3.8/site-packages (from matplotlib==3.3.3) (3.0.9)
Requirement already satisfied: python-dateutil>=2.1 in ./venv2/lib/python3.8/site-packages (from matplotlib==3.3.3) (2.8.2)
Requirement already satisfied: six>=1.5 in ./venv2/lib/python3.8/site-packages (from python-dateutil>=2.1->matplotlib==3.3.3) (1.16.0)


Installing package nibabel

Requirement already satisfied: nibabel in ./venv2/lib/python3.8/site-packages (5.1.0)
Requirement already satisfied: importlib-resources>=1.3 in ./venv2/lib/python3.8/site-packages (from nibabel) (5.12.0)
Collecting numpy>=1.19 (from nibabel)
  Using cached numpy-1.24.3-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (17.3 MB)
Requirement already satisfied: packaging>=17 in ./venv2/lib/python3.8/site-packages (from nibabel) (23.1)
Requirement already satisfied: zipp>=3.1.0 in ./venv2/lib/python3.8/site-packages (from importlib-resources>=1.3->nibabel) (3.15.0)
Installing collected packages: numpy
  Attempting uninstall: numpy
    Found existing installation: numpy 1.18.3
    Not uninstalling numpy at /opt/itu/easybuild/software/SciPy-bundle/2020.03-fosscuda-2020a-Python-3.8.2/lib/python3.8/site-packages, outside environment /home/data_shares/group_jet/KDS_AdvancedMachineLearning_project/hpc/venv2
    Can't uninstall 'numpy'. No files were found to uninstall.
Successfully installed numpy-1.24.3


Installing package nilearn

Requirement already satisfied: nilearn in ./venv2/lib/python3.8/site-packages (0.10.1)
Requirement already satisfied: joblib>=1.0.0 in ./venv2/lib/python3.8/site-packages (from nilearn) (1.2.0)
Requirement already satisfied: lxml in ./venv2/lib/python3.8/site-packages (from nilearn) (4.9.2)
Requirement already satisfied: nibabel>=3.2.0 in ./venv2/lib/python3.8/site-packages (from nilearn) (5.1.0)
Collecting numpy>=1.19.0 (from nilearn)
  Using cached numpy-1.24.3-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (17.3 MB)
Requirement already satisfied: packaging in ./venv2/lib/python3.8/site-packages (from nilearn) (23.1)
Collecting pandas>=1.1.5 (from nilearn)
  Using cached pandas-2.0.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (12.3 MB)
Requirement already satisfied: requests>=2.25.0 in ./venv2/lib/python3.8/site-packages (from nilearn) (2.29.0)
Requirement already satisfied: scikit-learn>=1.0.0 in ./venv2/lib/python3.8/site-packages (from nilearn) (1.2.2)
Collecting scipy>=1.6.0 (from nilearn)
  Using cached scipy-1.10.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (34.5 MB)
Requirement already satisfied: importlib-resources>=1.3 in ./venv2/lib/python3.8/site-packages (from nibabel>=3.2.0->nilearn) (5.12.0)
Requirement already satisfied: python-dateutil>=2.8.2 in ./venv2/lib/python3.8/site-packages (from pandas>=1.1.5->nilearn) (2.8.2)
Requirement already satisfied: pytz>=2020.1 in ./venv2/lib/python3.8/site-packages (from pandas>=1.1.5->nilearn) (2023.3)
Requirement already satisfied: tzdata>=2022.1 in ./venv2/lib/python3.8/site-packages (from pandas>=1.1.5->nilearn) (2023.3)
Requirement already satisfied: charset-normalizer<4,>=2 in ./venv2/lib/python3.8/site-packages (from requests>=2.25.0->nilearn) (3.1.0)
Requirement already satisfied: idna<4,>=2.5 in ./venv2/lib/python3.8/site-packages (from requests>=2.25.0->nilearn) (3.4)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in ./venv2/lib/python3.8/site-packages (from requests>=2.25.0->nilearn) (1.26.15)
Requirement already satisfied: certifi>=2017.4.17 in ./venv2/lib/python3.8/site-packages (from requests>=2.25.0->nilearn) (2022.12.7)
Requirement already satisfied: threadpoolctl>=2.0.0 in ./venv2/lib/python3.8/site-packages (from scikit-learn>=1.0.0->nilearn) (3.1.0)
Requirement already satisfied: zipp>=3.1.0 in ./venv2/lib/python3.8/site-packages (from importlib-resources>=1.3->nibabel>=3.2.0->nilearn) (3.15.0)
Requirement already satisfied: six>=1.5 in ./venv2/lib/python3.8/site-packages (from python-dateutil>=2.8.2->pandas>=1.1.5->nilearn) (1.16.0)
Installing collected packages: numpy, scipy, pandas
  Attempting uninstall: numpy
    Found existing installation: numpy 1.18.3
    Not uninstalling numpy at /opt/itu/easybuild/software/SciPy-bundle/2020.03-fosscuda-2020a-Python-3.8.2/lib/python3.8/site-packages, outside environment /home/data_shares/group_jet/KDS_AdvancedMachineLearning_project/hpc/venv2
    Can't uninstall 'numpy'. No files were found to uninstall.
  Attempting uninstall: scipy
    Found existing installation: scipy 1.4.1
    Not uninstalling scipy at /opt/itu/easybuild/software/SciPy-bundle/2020.03-fosscuda-2020a-Python-3.8.2/lib/python3.8/site-packages, outside environment /home/data_shares/group_jet/KDS_AdvancedMachineLearning_project/hpc/venv2
    Can't uninstall 'scipy'. No files were found to uninstall.
  Attempting uninstall: pandas
    Found existing installation: pandas 1.0.3
    Not uninstalling pandas at /opt/itu/easybuild/software/SciPy-bundle/2020.03-fosscuda-2020a-Python-3.8.2/lib/python3.8/site-packages, outside environment /home/data_shares/group_jet/KDS_AdvancedMachineLearning_project/hpc/venv2
    Can't uninstall 'pandas'. No files were found to uninstall.
Successfully installed numpy-1.24.3 pandas-2.0.1 scipy-1.10.1


Installing package numpy

Requirement already satisfied: numpy in /opt/itu/easybuild/software/SciPy-bundle/2020.03-fosscuda-2020a-Python-3.8.2/lib/python3.8/site-packages (1.18.3)


Installing package pandas

Requirement already satisfied: pandas in /opt/itu/easybuild/software/SciPy-bundle/2020.03-fosscuda-2020a-Python-3.8.2/lib/python3.8/site-packages (1.0.3)
Requirement already satisfied: python-dateutil>=2.6.1 in ./venv2/lib/python3.8/site-packages (from pandas) (2.8.2)
Requirement already satisfied: pytz>=2017.2 in ./venv2/lib/python3.8/site-packages (from pandas) (2023.3)
Requirement already satisfied: numpy>=1.13.3 in /opt/itu/easybuild/software/SciPy-bundle/2020.03-fosscuda-2020a-Python-3.8.2/lib/python3.8/site-packages (from pandas) (1.18.3)
Requirement already satisfied: six>=1.5 in ./venv2/lib/python3.8/site-packages (from python-dateutil>=2.6.1->pandas) (1.16.0)


Installing package Pillow

Requirement already satisfied: Pillow in ./venv2/lib/python3.8/site-packages (9.5.0)


Installing package sklearn

Requirement already satisfied: sklearn in ./venv2/lib/python3.8/site-packages (0.0.post4)


Installing package tqdm

Requirement already satisfied: tqdm in ./venv2/lib/python3.8/site-packages (4.65.0)


Installing package opencv-python

Requirement already satisfied: opencv-python in ./venv2/lib/python3.8/site-packages (4.7.0.72)
Requirement already satisfied: numpy>=1.17.0 in /opt/itu/easybuild/software/SciPy-bundle/2020.03-fosscuda-2020a-Python-3.8.2/lib/python3.8/site-packages (from opencv-python) (1.18.3)


Installing package pycuda

Collecting pycuda
  Using cached pycuda-2022.2.2-cp38-cp38-linux_x86_64.whl
Collecting pytools>=2011.2 (from pycuda)
  Using cached pytools-2022.1.14-py2.py3-none-any.whl
Collecting appdirs>=1.4.0 (from pycuda)
  Using cached appdirs-1.4.4-py2.py3-none-any.whl (9.6 kB)
Collecting mako (from pycuda)
  Using cached Mako-1.2.4-py3-none-any.whl (78 kB)
Collecting platformdirs>=2.2.0 (from pytools>=2011.2->pycuda)
  Using cached platformdirs-3.5.0-py3-none-any.whl (15 kB)
Collecting typing-extensions>=4.0 (from pytools>=2011.2->pycuda)
  Using cached typing_extensions-4.5.0-py3-none-any.whl (27 kB)
Collecting MarkupSafe>=0.9.2 (from mako->pycuda)
  Using cached MarkupSafe-2.1.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB)
Installing collected packages: appdirs, typing-extensions, platformdirs, MarkupSafe, pytools, mako, pycuda
Successfully installed MarkupSafe-2.1.2 appdirs-1.4.4 mako-1.2.4 platformdirs-3.5.0 pycuda-2022.2.2 pytools-2022.1.14 typing-extensions-4.5.0

############################################

RUN test_gpy.py

TEST RESULTS:

TensorFlow version: 2.3.1

CUDA version: 11.0.0

Device name: /physical_device:CPU:0
Device type: CPU

Device name: /physical_device:GPU:0
Device type: GPU


GPU device found: /device:GPU:0

############################################
RUN ../src/Eff_test.py
CPUs set to same as HPC job.

